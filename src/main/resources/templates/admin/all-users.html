<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:include="~{fragments/head}"/>

</head>
<body>
<header>
    <th:block th:include="~{fragments/nav}"/>
</header>
<tbody id="all-orders">
<main class="container mt-4">
    <hr class="hr-2 bg-dark w-100 flex-row">

    <div class="table-primary">
        <h1 class="text-center mt-2"><span class="badge badge-pill badge-dark">All users</span></h1>
        <hr class="hr-2 bg-dark w-100 flex-row">


        <table class="table table-hover w-100 mx-auto flex-row"
        th:each="u : ${users}" th:object="${u}">
            <form th:object="${roleChangingBindingModel}"
            th:action="@{/users/all-users/(id = ${u.id})}" th:method="post" >

            <thead >
            <tr class="row mx-auto">
                <th class="col-md-2 text-center font-weight-bold">ID</th>
                <th class="col-md-3 text-center font-weight-bold">Username</th>
                <th class="col-md-1 text-center font-weight-bold">Full name</th>
                <th class="col-md-2 text-center font-weight-bold">Email</th>
                <th class="col-md-2 text-center font-weight-bold">Phone number</th>
                <th class="col-md-1 text-center font-weight-bold">Add role</th>
            </tr>

            <tr class="row mx-auto">
                <th class="col-md-2 text-center font-weight-bold" th:text="${u.id}"></th>
                <th class="col-md-3 text-center font-weight-bold" th:text="${u.username}"></th>
                <th class="col-md-1 text-center font-weight-bold" th:text="|${u.firstName} ${u.lastName}|"></th>
                <th class="col-md-2 text-center font-weight-bold" th:text="${u.email}"></th>
                <th class="col-md-2 text-center font-weight-bold" th:text="${u.phoneNumber}"></th>
                <th class="col-md-2 text-center font-weight-bold" >
                  <select class="browser-default custom-select" id="role" name="role">
                        <option value="">SELECT ROLE</option>
                        <option value="ROLE_ADMIN">ADMIN</option>
                        <option value="ROLE_MODERATOR">MODERATOR</option>

                 </select>
                    <button type="submit" class="btn-group-vertical mb-3">Add</button>
                </th>


            </tr>

            </form>
            </tbody>
        </table>


    </div>
</main>


<th:block th:include="~{fragments/foot}"/>
</body>

</html>
